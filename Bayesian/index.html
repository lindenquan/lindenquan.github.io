<!DOCTYPE html>
<html lang="en">

<head>
    <title>Bayesian Inference</title>
    <meta charset="UTF-8">
    <meta name="author" content="Linden Quan">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="tutorial for junction tree algorithm, Hugin algorithm, Shafer-Shenoy algorith." />
    <meta name="keywords" content="bayesian network, junction tree algorithm, hugin algorithm, Shafer-Shenoy algorithm" />
    <script src="lib/jquery-3.2.1.min.js" defer></script>
    <script src="lib/jquery.contextMenu.js" defer></script>
    <script src="lib/jquery-ui.js" defer></script>
    <script src="lib/custom_api.js" defer></script>
    <script src="lib/jquery.easing.1.3.js" defer></script>
    <script src="lib/booklet/jquery.booklet.1.1.0.js" defer></script>
    <script src="lib/bayesian.js" defer></script>
    <script src="lib/classie.js" defer></script>
    <script src="lib/selectFx.js" defer></script>
    <script src="lib/bootstrap.3.3.7.min.js" defer></script>
    <script src='lib/velocity.min.1.5.0.js' defer></script>
    <script src='lib/velocity.ui.min.js' defer></script>
    <script src="lib/modal.js" defer></script>
    <script src="lib/graph.js" defer></script>
    <script src="lib/ui.js" defer></script>
    <script src="lib/select.js" defer></script>
    <link rel="stylesheet" type="text/css" href="css/bootstrap.3.3.7.min.css" />
    <link rel="stylesheet" type="text/css" href="css/jquery.contextMenu.css" />
    <link rel="stylesheet" type="text/css" href="css/cs-select.css" />
    <link rel="stylesheet" type="text/css" href="css/booklet/jquery.booklet.1.1.0.css" />
    <link rel="stylesheet" type="text/css" href="css/booklet/style.css" />
    <link rel="stylesheet" type="text/css" href="css/cs-select.css" />
    <link rel="stylesheet" type="text/css" href="css/cs-skin-boxes.css" />
    <link rel="stylesheet" type="text/css" href="css/style.css" />
    <link rel="icon" href="data:text/plain;charset=utf-8;base64,TFE=">
</head>

<body>
    <div class="loading">Loading the book...</div>
    <div class="book">
        <div data-menu="Intro">
            <h1>Introduction</h1>
            <h3><strong>Bayesian network</strong></h3>
            <p>A Bayesian network, also called Bayes network, belief network, Bayes(ian) model or probabilistic directed acyclic graphical model is a probabilistic graphical model (a type of statistical model) that represents a set of random variables and their conditional dependencies via a directed acyclic graph (DAG).<a href="https://en.wikipedia.org/wiki/Bayesian_network" target="_blank">[From Wikipedia]</a></p>
            <h3><strong>Bayesian inference</strong></h3>
            <p>
                Bayesian inference is an approach to answer probability queries about the underlying probability distribution.
            </p>
            <h3><strong>Junction tree algorithm</strong></h3>
            <p>
                The junction tree algorithm (also known as 'Clique Tree' or 'Join Tree') is a method to extract marginalization. In essence, it entails performing belief propagation on a modified graph called a junction tree.<a href="https://en.wikipedia.org/wiki/Junction_tree_algorithm" target="_blank">[From Wikipedia]</a>
            </p>
        </div>
        <div>
            <h1>The purpose of this site</h1>
            <p>This site is supposed to help you understand the junction tree algorithms in terms of Hugin propagation and Shafer-Shenoy propagation.</p>
            <p>This site is for tutorial purpose, not for the real-world application.</p>
            <ul class="instruction-list">
                <li>In "DAG" step, you need to draw a DAG and enter the corresponding CPTs.</li>
                <li>In "Query" step, you need to enter a query.</li>
                <li>In the following steps, you will learn how the inference algorithem is performed.</li>
            </ul>
            <p>
                You can also use the arrow keys to turn pages forward or backward.
            </p>
            <p> If you require any further information, feel free to contact me. linden.quan@hotmail.com</p>
            <button id="btn-start" type="button" class="btn nextPage">Let's start!</button>
        </div>
        <div data-menu="DAG">
            <button type="button" class="btn prevPage">Prev</button>
            <h1>Draw a DAG and enter CPTs</h1>
            <p>For the sake of simplicity, the name of a variable must be a single letter in uppercase, which means there are 26 variables at most. All of the variables are binary-valued, and all value is in lowercase.</p>
            <p>For example: A = {a, -a}, T = {t, -t}.</p>
            <div>
                <h3>Instructions:</h3>
                <ul class="instruction-list">
                    <li>select a variable name from a to z, and create a new variable by clicking "spawn" button.</li>
                    <li>Click on a node, hold and drag in the dotted area.</li>
                    <li>Double click on a node to display CPT.</li>
                    <li>Right click a node to show the context menu. In the menu, you can choose to edit the CPT or delte the node.</li>
                </ul>
            </div>
        </div>
        <div class="full-height">
            <button type="button" class="btn nextPage">Next</button>
            <div class='page-wrapper'>
                <div class='page-head'>
                    <p>
                        <select id="v-selector" class="cs-select cs-skin-boxes">
                            <option value="" disabled selected>variable</option>
                            <option value="a">A</option>
                            <option value="b">B</option>
                            <option value="c">C</option>
                            <option value="d">D</option>
                            <option value="e">E</option>
                            <option value="f">F</option>
                            <option value="g">G</option>
                            <option value="h">H</option>
                            <option value="i">I</option>
                            <option value="j">J</option>
                            <option value="k">K</option>
                            <option value="l">L</option>
                            <option value="m">M</option>
                            <option value="n">N</option>
                            <option value="o">O</option>
                            <option value="p">P</option>
                            <option value="q">Q</option>
                            <option value="r">R</option>
                            <option value="s">S</option>
                            <option value="t">T</option>
                            <option value="u">U</option>
                            <option value="v">V</option>
                            <option value="w">W</option>
                            <option value="x">X</option>
                            <option value="y">Y</option>
                            <option value="z">Z</option>
                        </select>
                        <button id="btn-spawn" class="hvr-back-pulse">spawn</button>
                        <button id="btn-sample" class="hvr-back-pulse">sample</button>
                    </p>
                </div>
                <div id="original-canvas" class="canvas">
                    <svg id="original-svg">
                    </svg>
                </div>
            </div>
        </div>
        <div data-menu="Query">
            <button type="button" class="btn prevPage">Prev</button>
            <h1>Enter a query</h1>
            <p>The general form of a query is P(Q|E=e)?</p>
            <div>
                <ul class="instruction-list">
                    <li>Q is a set of query variables.</li>
                    <li>E is a set of evidence variables,and e is the specific observed value</li>
                </ul>
            </div>
            <p>
                For example: P(C, E|A=a,B=-b)
                <br> This query means "what is the probability of the event C and E happen together given A is a and B is -b.
                <br>This query is also equivalent to the following table.(assume all of the variables are binary-valued.)
            </p>
            <div>
                <table class="table-page">
                    <tr>
                        <th>C</th>
                        <th>E</th>
                        <th>A</th>
                        <th>B</th>
                        <th>P(C, E|A=a,B=-b)</th>
                    </tr>
                    <tr>
                        <td>c</td>
                        <td>e</td>
                        <td>a</td>
                        <td>-b</td>
                        <td>?</td>
                    </tr>
                    <tr>
                        <td>c</td>
                        <td>-e</td>
                        <td>a</td>
                        <td>-b</td>
                        <td>?</td>
                    </tr>
                    <tr>
                        <td>-c</td>
                        <td>e</td>
                        <td>a</td>
                        <td>-b</td>
                        <td>?</td>
                    </tr>
                    <tr>
                        <td>-c</td>
                        <td>-e</td>
                        <td>a</td>
                        <td>-b</td>
                        <td>?</td>
                    </tr>
                </table>
            </div>
        </div>
        <div id="page-query">
            <button type="button" class="btn nextPage">Next</button>
            <p>Drag the variables into the query set or evidence set. For the sake of simplicity, you can't specify any value.
            </p>
            <div>
                <p>
                    Variables spawned in step 1:
                </p>
                <div id="vars-list" class="p node-box"> </div>
            </div>
            <div>
                <div class="p">
                    Query Set:
                    <div id="query-box" class="node-box"></div>
                </div>
                <div class="p">
                    Evidence Set:
                    <div id="evidence-box" class="node-box"></div>
                </div>
            </div>
            <div id="query-str" class="p">P()</div>
        </div>
        <div data-menu="Step 1">
            <button type="button" class="btn prevPage">Prev</button>
            <h1>Moralization</h1>
            <p>To answer the query, we need to generate the junction tree.</p>
            <p>The first step of generating a junction tree is moralizing the original DAG.</p>
            <p>To transform a DAG to the moral graph, add edges between all pairs of nodes that have a common child, and remove all directions. </p>
        </div>
        <div class="full-height">
            <button type="button" class="btn nextPage">Next</button>
            <div class='page-wrapper'>
                <div class='page-head'>
                    <p>
                        <button id="btn-demoralize" class="hvr-back-pulse float-left">Demoralize</button>
                        <button id="btn-moralize" class="hvr-back-pulse float-right">Moralize</button>
                    </p>
                </div>
                <div id="moral-canvas" class='canvas'>
                    <svg id="moral-svg">
                    </svg>
                </div>
            </div>
        </div>
        <div data-menu="Step 2">
            <button type="button" class="btn prevPage">Prev</button>
            <h1>Triangulation</h1>
            <p>In this step, we need to transform the moralized graph to the triangulated graph. To do so, we need perform maximum cardinality search(MCS) algorithm to determin the ordering. After obtaining the ordering, make the ordering perfect by adding edges to the moral graph. The new graph with perfect ordering is the triangulated graph.
            </p>
            <p>MCS algorithm and the concept of perfect ordering can be found online. You can also read the source code of all alorithms.</p>
        </div>
        <div class="full-height">
            <button type="button" class="btn nextPage">Next</button>
            <div class='page-wrapper'>
                <div class='page-head'>
                    <p>
                        <button id="btn-detriangulate" class="hvr-back-pulse float-left">Detriangulate</button>
                        <button id="btn-triangulate" class="hvr-back-pulse float-right">Triangulate</button>
                    </p>
                </div>
                <div id="triangle-canvas" class='canvas'>
                    <svg id="triangle-svg">
                    </svg>
                </div>
            </div>
        </div>
    </div>
    <div class="modal" id="parents" role="dialog" data-easein="expandIn">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <!--<button type="button" class="close" data-dismiss="modal">&times;</button>-->
                    <span class="modal-title">Select parents</span>
                </div>
                <div class="modal-body">
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default confirm" data-dismiss="modal">Confirm</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal" id="modal-cpt" role="dialog" data-easein="expandIn">
        <div class="modal-dialog">
            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header">
                    <!--<button type="button" class="close" data-dismiss="modal">&times;</button>-->
                    <span class="modal-title">CPT</span>
                </div>
                <div class="modal-body">
                    <table id="table-cpt"></table>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default confirm" data-dismiss="modal">Confirm</button>
                </div>
            </div>
        </div>
    </div>
</body>

</html>